# Slim Toolkit Quick Start

## Install Slim (One-time)

```bash
# macOS (Homebrew - easiest)
brew install docker-slim

# Or use the install script
curl -sL https://raw.githubusercontent.com/slimtoolkit/slim/master/scripts/install-slim.sh | sudo -E bash -
```

## Basic Workflow

### 1. Build & Minify in One Command
```bash
./apps/server/build-slim.sh
```

### 2. Or Do It Manually

```bash
# Build original
docker build -f apps/server/Dockerfile -t rovierr-server:latest .

# Minify
slim build --target rovierr-server:latest --tag rovierr-server:slim

# Test
docker run --rm --env-file apps/server/.env -p 3000:3000 rovierr-server:slim
```

## Common Commands

### Analyze Image (Before Minifying)
```bash
slim xray --target rovierr-server:latest
```

### Interactive Minification
```bash
slim build --target rovierr-server:latest
# Follow the prompts to test before finalizing
```

### Check What Changed
```bash
slim xray --target rovierr-server:slim --changes-output=changes.json
```

## Expected Results

- **Original:** ~500-800 MB
- **Minified:** ~50-150 MB
- **Reduction:** 5-15x smaller

## Troubleshooting

### App crashes after minification?
Add missing paths:
```bash
slim build --target rovierr-server:latest \
  --include-path=/path/to/missing/files
```

### Binary not found?
Include it explicitly:
```bash
slim build --target rovierr-server:latest \
  --include-bin=/usr/bin/missing-binary
```

### Need more time for startup?
Increase wait time:
```bash
slim build --target rovierr-server:latest \
  --continue-after=120
```

## Next Steps

1. Read the full guide: `apps/server/SLIM-TOOLKIT-GUIDE.md`
2. Customize config: `apps/server/.slim.yaml`
3. Integrate with CI/CD
4. Use security profiles generated by Slim
